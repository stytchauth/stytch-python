# !!!
# WARNING: This file is autogenerated
# Only modify code within MANUAL() sections
# or your changes may be overwritten later!
# !!!

from __future__ import annotations

from typing import Optional

import pydantic

from stytch.consumer.models.device_history import DeviceInfo
from stytch.consumer.models.sessions import Session
from stytch.consumer.models.users import User
from stytch.core.response_base import ResponseBase


class Options(pydantic.BaseModel):
    """
    Fields:
      - ip_match_required: Require that the IP address the Magic Link was requested from matches the IP address it's clicked from.
      - user_agent_match_required: Require that the user agent the Magic Link was requested from matches the user agent it's clicked from.
    """  # noqa

    ip_match_required: bool
    user_agent_match_required: bool


class AuthenticateResponse(ResponseBase):
    """Response type for `MagicLinks.authenticate`.
    Fields:
      - user_id: The unique ID for a User. When making API calls, you may use an `external_id` in place of the `user_id` if one is set for the User.
      - method_id: The unique identifier for a specific authentication method instance (e.g., an email ID, password, TOTP, or phone number).
      - session_token: The `session_token` associated with a User's existing Session.
      - session_jwt: The JSON Web Token (JWT) associated with a User's existing Session.
      - user: The `user` object affected by this API call.
      - reset_sessions: Indicates if all other of the User's Sessions need to be reset. You should check this field if you aren't using Stytch's Session product. If you are using Stytch's Session product, we revoke the User's other sessions for you.
      - session: If you initiate a Session, by including `session_duration_minutes` in your authenticate call, you'll receive a full Session object in the response.
      - user_device: If a valid `telemetry_id` was passed in the request and the Fingerprint Lookup API returned results, this field will contain information about the user's device attributes.
    """  # noqa

    user_id: str
    method_id: str
    session_token: str
    session_jwt: str
    user: User
    reset_sessions: bool
    session: Optional[Session] = None
    user_device: Optional[DeviceInfo] = None


class CreateResponse(ResponseBase):
    """Response type for `MagicLinks.create`.
    Fields:
      - user_id: The unique ID for a User. When making API calls, you may use an `external_id` in place of the `user_id` if one is set for the User.
      - token: The Magic Link token from the `?token=` query parameter in the URL that you'll include in your contact method of choice, e.g. email or SMS. The redirect URL will look like `https://example.com/authenticate?stytch_token_type=magic_links&token=rM_kw42CWBhsHLF62V75jELMbvJ87njMe3tFVj7Qupu7` In the redirect URL, the `stytch_token_type` will be `magic_link`. See [here](https://stytch.com/docs/workspace-management/redirect-urls) for more detail.
    """  # noqa

    user_id: str
    token: str

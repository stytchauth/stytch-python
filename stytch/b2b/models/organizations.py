# !!!
# WARNING: This file is autogenerated
# Only modify code within MANUAL() sections
# or your changes may be overwritten later!
# !!!

from __future__ import annotations

import datetime
import enum
from typing import Any, Dict, List, Optional

import pydantic

from stytch.b2b.models.scim import SCIMAttributes
from stytch.core.response_base import ResponseBase
from stytch.shared.method_options import Authorization


class CreateRequestFirstPartyConnectedAppsAllowedType(str, enum.Enum):
    ALL_ALLOWED = "ALL_ALLOWED"
    RESTRICTED = "RESTRICTED"
    NOT_ALLOWED = "NOT_ALLOWED"


class CreateRequestThirdPartyConnectedAppsAllowedType(str, enum.Enum):
    ALL_ALLOWED = "ALL_ALLOWED"
    RESTRICTED = "RESTRICTED"
    NOT_ALLOWED = "NOT_ALLOWED"


class SearchQueryOperator(str, enum.Enum):
    OR = "OR"
    AND = "AND"


class UpdateRequestFirstPartyConnectedAppsAllowedType(str, enum.Enum):
    ALL_ALLOWED = "ALL_ALLOWED"
    RESTRICTED = "RESTRICTED"
    NOT_ALLOWED = "NOT_ALLOWED"


class UpdateRequestThirdPartyConnectedAppsAllowedType(str, enum.Enum):
    ALL_ALLOWED = "ALL_ALLOWED"
    RESTRICTED = "RESTRICTED"
    NOT_ALLOWED = "NOT_ALLOWED"


class ActiveSCIMConnection(pydantic.BaseModel):
    """
    Fields:
      - connection_id: Globally unique UUID that identifies a specific SSO connection.
      - display_name: A human-readable display name for the connection.
      - bearer_token_last_four: The last four characters of the SCIM bearer token, used for identification without exposing the full token.
      - bearer_token_expires_at: The timestamp when the SCIM bearer token will expire.
    """  # noqa

    connection_id: str
    display_name: str
    bearer_token_last_four: str
    bearer_token_expires_at: Optional[datetime.datetime] = None


class ActiveSSOConnection(pydantic.BaseModel):
    """
    Fields:
      - connection_id: Globally unique UUID that identifies a specific SSO connection.
      - display_name: A human-readable display name for the connection.
      - identity_provider: Name of the IdP. Enum with possible values: `classlink`, `cyberark`, `duo`, `google-workspace`, `jumpcloud`, `keycloak`, `miniorange`, `microsoft-entra`, `okta`, `onelogin`, `pingfederate`, `rippling`, `salesforce`, `shibboleth`, or `generic`.
    Specifying a known provider allows Stytch to handle any provider-specific logic.
    """  # noqa

    connection_id: str
    display_name: str
    identity_provider: str


class ConnectedAppsRequestOptions(pydantic.BaseModel):
    """
    Fields:
      - authorization: Optional authorization object.
    Pass in an active Stytch Member session token or session JWT and the request
    will be run using that member's permissions.
    """  # noqa

    authorization: Optional[Authorization] = None

    def add_headers(self, headers: Dict[str, str]) -> Dict[str, str]:
        if self.authorization is not None:
            headers = self.authorization.add_headers(headers)
        return headers


class DeleteRequestOptions(pydantic.BaseModel):
    """
    Fields:
      - authorization: Optional authorization object.
    Pass in an active Stytch Member session token or session JWT and the request
    will be run using that member's permissions.
    """  # noqa

    authorization: Optional[Authorization] = None

    def add_headers(self, headers: Dict[str, str]) -> Dict[str, str]:
        if self.authorization is not None:
            headers = self.authorization.add_headers(headers)
        return headers


class EmailImplicitRoleAssignment(pydantic.BaseModel):
    """
    Fields:
      - domain: The domain for Passkeys or WebAuthn. Defaults to `window.location.hostname`.
      - role_id: The unique identifier for an RBAC role.
    """  # noqa

    domain: str
    role_id: str


class GetConnectedAppRequestOptions(pydantic.BaseModel):
    """
    Fields:
      - authorization: Optional authorization object.
    Pass in an active Stytch Member session token or session JWT and the request
    will be run using that member's permissions.
    """  # noqa

    authorization: Optional[Authorization] = None

    def add_headers(self, headers: Dict[str, str]) -> Dict[str, str]:
        if self.authorization is not None:
            headers = self.authorization.add_headers(headers)
        return headers


class GithubProviderInfo(pydantic.BaseModel):
    """
    Fields:
      - provider_subject: The unique identifier for the user in the identity provider's system, used to link external provider accounts to Stytch members.
      - provider_tenant_ids: A list of tenant IDs within a multi-tenant OAuth provider that the member has access to.
      - access_token: The access token to exchange for a Stytch Session. Must be granted the `full_access` scope.
      - scopes: An array of scopes requested by the client.
    """  # noqa

    provider_subject: str
    provider_tenant_ids: List[str]
    access_token: str
    scopes: List[str]


class HubspotProviderInfo(pydantic.BaseModel):
    """
    Fields:
      - provider_subject: The unique identifier for the user in the identity provider's system, used to link external provider accounts to Stytch members.
      - provider_tenant_id: The identifier of the tenant within a multi-tenant OAuth provider (e.g., Microsoft tenant ID, Slack workspace ID).
      - access_token: The `access_token` that you may use to access the Member's data in the provider's API for B2B organization authentication flows.
      - access_token_expires_in: The number of seconds until the access token expires.
      - scopes: An array of scopes requested by the client.
      - refresh_token: An OAuth refresh token that can be used to obtain new access tokens without requiring re-authentication.
    """  # noqa

    provider_subject: str
    provider_tenant_id: str
    access_token: str
    access_token_expires_in: int
    scopes: List[str]
    refresh_token: Optional[str] = None


class MemberConnectedApp(pydantic.BaseModel):
    """
    Fields:
      - connected_app_id: The ID of the Connected App.
      - name: The name of the Connected App.
      - description: A description of the Connected App.
      - client_type: The type of Connected App. Supported values are `first_party`, `first_party_public`, `third_party`, and `third_party_public`.
      - scopes_granted: The list of OAuth scopes that were actually granted to the access token, which may be a subset of requested scopes.
      - logo_url: The URL of the logo image for the organization, SSO connection, or connected application.
    """  # noqa

    connected_app_id: str
    name: str
    description: str
    client_type: str
    scopes_granted: str
    logo_url: Optional[str] = None


class MemberRoleSource(pydantic.BaseModel):
    """
    Fields:
      - type: The source type that describes how a member received their role assignment, such as direct assignment, group inheritance, or SSO connection implicit role mapping.
      - details: Additional contextual information or metadata providing further details about the response or error.
    """  # noqa

    type: str
    details: Optional[Dict[str, Any]] = None


class MemberRole(pydantic.BaseModel):
    """
    Fields:
      - role_id: The unique identifier for an RBAC role.
      - sources: The list of authentication sources or methods used to establish the current session or identity.
    """  # noqa

    role_id: str
    sources: List[MemberRoleSource]


class OAuthRegistration(pydantic.BaseModel):
    """
    Fields:
      - provider_type: The type of OAuth provider (e.g., google, microsoft, slack, github, hubspot) used for authentication.
      - provider_subject: The unique identifier for the user in the identity provider's system, used to link external provider accounts to Stytch members.
      - member_oauth_registration_id: The unique identifier linking a member to their OAuth provider registration.
      - profile_picture_url: The URL of the member's profile picture, typically retrieved from OAuth providers.
      - locale: If available, the locale set in the OAuth identity provider.
    """  # noqa

    provider_type: str
    provider_subject: str
    member_oauth_registration_id: str
    profile_picture_url: Optional[str] = None
    locale: Optional[str] = None


class OIDCProviderInfo(pydantic.BaseModel):
    """
    Fields:
      - provider_subject: The unique identifier for the user in the identity provider's system, used to link external provider accounts to Stytch members.
      - id_token: An OpenID Connect ID token containing identity claims about the authenticated user.
      - access_token: The access token to exchange for a Stytch Session. Must be granted the `full_access` scope.
      - access_token_expires_in: The number of seconds until the access token expires.
      - scopes: An array of scopes requested by the client.
      - connection_id: Globally unique UUID that identifies a specific SSO connection.
      - refresh_token: An OAuth refresh token that can be used to obtain new access tokens without requiring re-authentication.
    """  # noqa

    provider_subject: str
    id_token: str
    access_token: str
    access_token_expires_in: int
    scopes: List[str]
    connection_id: str
    refresh_token: Optional[str] = None


class Organization(pydantic.BaseModel):
    """
    Fields:
      - organization_id: Globally unique UUID that identifies a specific Organization. When making API calls, you may also use the organization_slug or organization_external_id as a convenience.
      - organization_name: The name of the Organization. Must be between 1 and 128 characters in length.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.info.name` action on the `stytch.organization` Resource.
      - organization_logo_url: The image URL of the Organization logo.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.info.logo-url` action on the `stytch.organization` Resource.
      - organization_slug: The unique URL slug of the Organization. The slug only accepts alphanumeric characters and the following reserved characters: `-` `.` `_` `~`. Must be between 2 and 128 characters in length. Wherever an organization_id is expected in a path or request parameter, you may also use the organization_slug as a convenience.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.info.slug` action on the `stytch.organization` Resource.
      - sso_jit_provisioning: The authentication setting that controls the JIT provisioning of Members when authenticating via SSO. The accepted values are:
    `ALL_ALLOWED` – the default setting, new Members will be automatically provisioned upon successful authentication via any of the Organization's `sso_active_connections`.
    `RESTRICTED` – only new Members with SSO logins that comply with `sso_jit_provisioning_allowed_connections` can be provisioned upon authentication.
    `NOT_ALLOWED` – disable JIT provisioning via SSO.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.sso-jit-provisioning` action on the `stytch.organization` Resource.
      - sso_jit_provisioning_allowed_connections: An array of `connection_id`s that reference [SAML Connection objects](https://stytch.com/docs/b2b/api/saml-connection-object).
    Only these connections will be allowed to JIT provision Members via SSO when `sso_jit_provisioning` is set to `RESTRICTED`.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.sso-jit-provisioning` action on the `stytch.organization` Resource.
      - sso_active_connections: A list of currently active SSO connections configured for the organization.
      - email_allowed_domains: An array of email domains that allow invites or JIT provisioning for new Members. This list is enforced when either `email_invites` or `email_jit_provisioning` is set to `RESTRICTED`.
    Common domains such as `gmail.com` are not allowed. See the [common email domains resource](https://stytch.com/docs/b2b/api/common-email-domains) for the full list.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.allowed-domains` action on the `stytch.organization` Resource.
      - email_jit_provisioning: The authentication setting that controls how a new Member can be provisioned by authenticating via Email Magic Link or OAuth. The accepted values are:
    `RESTRICTED` – only new Members with verified emails that comply with `email_allowed_domains` can be provisioned upon authentication via Email Magic Link or OAuth.
    `NOT_ALLOWED` – the default setting, disables JIT provisioning via Email Magic Link and OAuth.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.email-jit-provisioning` action on the `stytch.organization` Resource.
      - email_invites: The authentication setting that controls how a new Member can be invited to an organization by email. The accepted values are:
    `ALL_ALLOWED` – any new Member can be invited to join via email.
    `RESTRICTED` – only new Members with verified emails that comply with `email_allowed_domains` can be invited via email.
    `NOT_ALLOWED` – disable email invites.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.email-invites` action on the `stytch.organization` Resource.
      - auth_methods: The setting that controls which authentication methods can be used by Members of an Organization. The accepted values are:
    `ALL_ALLOWED` – the default setting which allows all authentication methods to be used.
    `RESTRICTED` – only methods that comply with `allowed_auth_methods` can be used for authentication. This setting does not apply to Members with `is_breakglass` set to `true`.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.allowed-auth-methods` action on the `stytch.organization` Resource.
      - allowed_auth_methods: An array of allowed authentication methods. This list is enforced when `auth_methods` is set to `RESTRICTED`.
    The list's accepted values are: `sso`, `magic_link`, `email_otp`, `password`, `google_oauth`, `microsoft_oauth`, `slack_oauth`, `github_oauth`, and `hubspot_oauth`.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.allowed-auth-methods` action on the `stytch.organization` Resource.
      - mfa_policy: The setting that controls the MFA policy for all Members in the Organization. The accepted values are:
    `REQUIRED_FOR_ALL` – All Members within the Organization will be required to complete MFA every time they wish to log in. However, any active Session that existed prior to this setting change will remain valid.
    `OPTIONAL` – The default value. The Organization does not require MFA by default for all Members. Members will be required to complete MFA only if their `mfa_enrolled` status is set to true.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.mfa-policy` action on the `stytch.organization` Resource.
      - rbac_email_implicit_role_assignments: Implicit role assignments based off of email domains.
    For each domain-Role pair, all Members whose email addresses have the specified email domain will be granted the
    associated Role, regardless of their login method. See the [RBAC guide](https://stytch.com/docs/b2b/guides/rbac/role-assignment)
    for more information about role assignment.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.implicit-roles` action on the `stytch.organization` Resource.
      - mfa_methods: The setting that controls which MFA methods can be used by Members of an Organization. The accepted values are:
    `ALL_ALLOWED` – the default setting which allows all authentication methods to be used.
    `RESTRICTED` – only methods that comply with `allowed_mfa_methods` can be used for authentication. This setting does not apply to Members with `is_breakglass` set to `true`.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.allowed-mfa-methods` action on the `stytch.organization` Resource.
      - allowed_mfa_methods: An array of allowed MFA authentication methods. This list is enforced when `mfa_methods` is set to `RESTRICTED`.
    The list's accepted values are: `sms_otp` and `totp`.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.allowed-mfa-methods` action on the `stytch.organization` Resource.
      - oauth_tenant_jit_provisioning: The authentication setting that controls how a new Member can JIT provision into an organization by tenant. The accepted values are:
    `RESTRICTED` – only new Members with tenants in `allowed_oauth_tenants` can JIT provision via tenant.
    `NOT_ALLOWED` – the default setting, disables JIT provisioning by OAuth Tenant.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.oauth-tenant-jit-provisioning` action on the `stytch.organization` Resource.
      - claimed_email_domains: An array of email domains that have been claimed by this Organization. When a domain is claimed, only this Organization can invite or JIT provision Members with email addresses on that domain.
      - first_party_connected_apps_allowed_type: The authentication setting that sets the Organization's policy towards first party Connected Apps. The accepted values are:
    `ALL_ALLOWED` – the default setting, any first party Connected App in the Project is permitted for use by Members.
    `RESTRICTED` – only first party Connected Apps with IDs in `allowed_first_party_connected_apps` can be used by Members.
    `NOT_ALLOWED` – no first party Connected Apps are permitted.
      - allowed_first_party_connected_apps: An array of first party Connected App IDs that are allowed for the Organization. Only used when the Organization's `first_party_connected_apps_allowed_type` is `RESTRICTED`.
      - third_party_connected_apps_allowed_type: The authentication setting that sets the Organization's policy towards third party Connected Apps. The accepted values are:
    `ALL_ALLOWED` – the default setting, any third party Connected App in the Project is permitted for use by Members.
    `RESTRICTED` – only third party Connected Apps with IDs in `allowed_first_party_connected_apps` can be used by Members.
    `NOT_ALLOWED` – no third party Connected Apps are permitted.
      - allowed_third_party_connected_apps: An array of third party Connected App IDs that are allowed for the Organization. Only used when the Organization's `third_party_connected_apps_allowed_type` is `RESTRICTED`.
      - trusted_metadata: An arbitrary JSON object for storing application-specific data or identity-provider-specific data.
      - created_at: The timestamp indicating when the resource was created.
      - updated_at: The timestamp indicating when the resource was last updated.
      - organization_external_id: An identifier that can be used in API calls wherever a organization_id is expected. This is a string consisting of alphanumeric, `.`, `_`, `-`, or `|` characters with a maximum length of 128 characters. External IDs must be unique within a project, but may be reused across different projects in the same workspace.
      - sso_default_connection_id: The default connection used for SSO when there are multiple active connections.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.default-sso-connection` action on the `stytch.organization` Resource.
      - scim_active_connection: The currently active SCIM connection for the organization.
      - allowed_oauth_tenants: A map of allowed OAuth tenants. If this field is not passed in, the Organization will not allow JIT provisioning by OAuth Tenant. Allowed keys are "slack", "hubspot", and "github".
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.allowed-oauth-tenants` action on the `stytch.organization` Resource.
    """  # noqa

    organization_id: str
    organization_name: str
    organization_logo_url: str
    organization_slug: str
    sso_jit_provisioning: str
    sso_jit_provisioning_allowed_connections: List[str]
    sso_active_connections: List[ActiveSSOConnection]
    email_allowed_domains: List[str]
    email_jit_provisioning: str
    email_invites: str
    auth_methods: str
    allowed_auth_methods: List[str]
    mfa_policy: str
    rbac_email_implicit_role_assignments: List[EmailImplicitRoleAssignment]
    mfa_methods: str
    allowed_mfa_methods: List[str]
    oauth_tenant_jit_provisioning: str
    claimed_email_domains: List[str]
    first_party_connected_apps_allowed_type: str
    allowed_first_party_connected_apps: List[str]
    third_party_connected_apps_allowed_type: str
    allowed_third_party_connected_apps: List[str]
    trusted_metadata: Optional[Dict[str, Any]] = None
    created_at: Optional[datetime.datetime] = None
    updated_at: Optional[datetime.datetime] = None
    organization_external_id: Optional[str] = None
    sso_default_connection_id: Optional[str] = None
    scim_active_connection: Optional[ActiveSCIMConnection] = None
    allowed_oauth_tenants: Optional[Dict[str, Any]] = None


class OrganizationConnectedApp(pydantic.BaseModel):
    """
    Fields:
      - connected_app_id: The ID of the Connected App.
      - name: The name of the Connected App.
      - description: A description of the Connected App.
      - client_type: The type of Connected App. Supported values are `first_party`, `first_party_public`, `third_party`, and `third_party_public`.
      - logo_url: The URL of the logo image for the organization, SSO connection, or connected application.
    """  # noqa

    connected_app_id: str
    name: str
    description: str
    client_type: str
    logo_url: Optional[str] = None


class OrganizationConnectedAppActiveMember(pydantic.BaseModel):
    """
    Fields:
      - member_id: Globally unique UUID that identifies a specific Member. When making API calls, you may use an `external_id` in place of the `member_id` if one is set for the member.
      - granted_scopes: OAuth scopes that were granted during authorization.
    """  # noqa

    member_id: str
    granted_scopes: List[str]


class ResultsMetadata(pydantic.BaseModel):
    """
    Fields:
      - total: The total count of items or results in a paginated response or collection.
      - next_cursor: A cursor value for fetching the next page of paginated results.
    """  # noqa

    total: int
    next_cursor: Optional[str] = None


class RetiredEmail(pydantic.BaseModel):
    """
    Fields:
      - email_id: The unique ID of a specific email address.
      - email_address: The email address of the Member.
    """  # noqa

    email_id: str
    email_address: str


class SCIMRegistration(pydantic.BaseModel):
    """
    Fields:
      - connection_id: Globally unique UUID that identifies a specific SSO connection.
      - registration_id: The unique identifier for an authentication method registration (e.g., OAuth, SSO, SCIM).
      - external_id: An identifier that can be used in API calls wherever a user_id is expected. This is a string consisting of alphanumeric, `.`, `_`, `-`, or `|` characters with a maximum length of 128 characters.
      - scim_attributes: Attributes from the SCIM identity provider, following the SCIM 2.0 schema.
    """  # noqa

    connection_id: str
    registration_id: str
    external_id: Optional[str] = None
    scim_attributes: Optional[SCIMAttributes] = None


class SSORegistration(pydantic.BaseModel):
    """
    Fields:
      - connection_id: Globally unique UUID that identifies a specific SSO connection.
      - external_id: An identifier that can be used in API calls wherever a user_id is expected. This is a string consisting of alphanumeric, `.`, `_`, `-`, or `|` characters with a maximum length of 128 characters.
      - registration_id: The unique identifier for an authentication method registration (e.g., OAuth, SSO, SCIM).
      - sso_attributes: Attributes and claims received from the SSO identity provider during authentication.
    """  # noqa

    connection_id: str
    external_id: str
    registration_id: str
    sso_attributes: Optional[Dict[str, Any]] = None


class Member(pydantic.BaseModel):
    """
    Fields:
      - organization_id: Globally unique UUID that identifies a specific Organization. When making API calls, you may also use the organization_slug or organization_external_id as a convenience.
      - member_id: Globally unique UUID that identifies a specific Member. When making API calls, you may use an `external_id` in place of the `member_id` if one is set for the member.
      - email_address: The email address of the Member.
      - status: The status of the entity.
      - name: The name of the Member.
      - sso_registrations: A list of SSO registrations linking the member to external identity providers.
      - is_breakglass: Identifies the Member as a break glass user - someone who has permissions to authenticate into an Organization by bypassing the Organization's settings. A break glass account is typically used for emergency purposes to gain access outside of normal authentication procedures. Refer to the [Organization object](https://stytch.com/docs/b2b/api/organization-object) and its `auth_methods` and `allowed_auth_methods` fields for more details.
      - member_password_id: The unique identifier for a Member's password. Each Member can have only one password at a time.
      - oauth_registrations: A list of OAuth provider registrations linked to the member account.
      - email_address_verified: A boolean indicating whether the member's email address has been verified.
      - mfa_phone_number_verified: A boolean indicating whether the member's MFA phone number has been verified.
      - is_admin: A boolean indicating whether the member has admin privileges (deprecated, use RBAC roles instead).
      - totp_registration_id: The unique identifier for the TOTP registration, linking a member to their authenticator app.
      - retired_email_addresses: A list of previous email addresses that are no longer the member's primary email but remain in history.
      - is_locked: A boolean indicating whether the member's account is currently locked.
      - mfa_enrolled: Sets whether the Member is enrolled in MFA. If true, the Member must complete an MFA step whenever they wish to log in to their Organization. If false, the Member only needs to complete an MFA step if the Organization's MFA policy is set to `REQUIRED_FOR_ALL`.
      - mfa_phone_number: The Member's phone number. A Member may only have one phone number. The phone number should be in E.164 format (i.e. +1XXXXXXXXXX).
      - default_mfa_method: The Member's default MFA method. This value is used to determine which secondary MFA method to use in the case of multiple methods registered for a Member. The current possible values are `sms_otp` and `totp`.
    When setting this field, if a session header is passed into the request, the Member Session must have permission to perform the `update.settings.default-mfa-method` action on the `stytch.member` Resource. Alternatively, if the Member Session matches the Member associated with the `member_id` passed in the request, the authorization check will also allow a Member Session that has permission to perform the `update.settings.default-mfa-method` action on the `stytch.self` Resource.
      - roles: Explicit or implicit Roles assigned to this Member.
      - trusted_metadata: An arbitrary JSON object for storing application-specific data or identity-provider-specific data.
      - untrusted_metadata: An arbitrary JSON object of application-specific data. Untrusted metadata can be edited by end users directly via the SDK, and **cannot be used to store critical information.** See the [Metadata](https://stytch.com/docs/api/metadata) reference for complete field behavior details.
      - created_at: The timestamp indicating when the resource was created.
      - updated_at: The timestamp indicating when the resource was last updated.
      - scim_registration: A SCIM registration object linking the member to their SCIM identity.
      - external_id: An identifier that can be used in most API calls where a `member_id` is expected. This is a string consisting of alphanumeric, `.`, `_`, `-`, or `|` characters with a maximum length of 128 characters. External IDs must be unique within an organization, but may be reused across different organizations in the same project.
      - lock_created_at: The timestamp when the member's account was locked due to security concerns or policy violations.
      - lock_expires_at: The timestamp when the member's account lock will automatically expire.
    """  # noqa

    organization_id: str
    member_id: str
    email_address: str
    status: str
    name: str
    sso_registrations: List[SSORegistration]
    is_breakglass: bool
    member_password_id: str
    oauth_registrations: List[OAuthRegistration]
    email_address_verified: bool
    mfa_phone_number_verified: bool
    is_admin: bool
    totp_registration_id: str
    retired_email_addresses: List[RetiredEmail]
    is_locked: bool
    mfa_enrolled: bool
    mfa_phone_number: str
    default_mfa_method: str
    roles: List[MemberRole]
    trusted_metadata: Optional[Dict[str, Any]] = None
    untrusted_metadata: Optional[Dict[str, Any]] = None
    created_at: Optional[datetime.datetime] = None
    updated_at: Optional[datetime.datetime] = None
    scim_registration: Optional[SCIMRegistration] = None
    external_id: Optional[str] = None
    lock_created_at: Optional[datetime.datetime] = None
    lock_expires_at: Optional[datetime.datetime] = None


class SearchQuery(pydantic.BaseModel):
    """
    Fields:
      - operator: The action to perform on the operands, either `AND` or `OR`.
      - operands: An array of operand objects that contains all of the filters and values to apply to your search query.
    """  # noqa

    operator: SearchQueryOperator
    operands: List[Dict[str, Any]]


class SlackProviderInfo(pydantic.BaseModel):
    """
    Fields:
      - provider_subject: The unique identifier for the user in the identity provider's system, used to link external provider accounts to Stytch members.
      - provider_tenant_id: The identifier of the tenant within a multi-tenant OAuth provider (e.g., Microsoft tenant ID, Slack workspace ID).
      - access_token: The access token to exchange for a Stytch Session. Must be granted the `full_access` scope.
      - scopes: An array of scopes requested by the client.
      - bot_access_token: An access token for bot or automation purposes, particularly for Slack integrations.
      - bot_scopes: OAuth scopes granted to a bot access token, particularly for Slack integrations.
    """  # noqa

    provider_subject: str
    provider_tenant_id: str
    access_token: str
    scopes: List[str]
    bot_access_token: str
    bot_scopes: List[str]


class UpdateRequestOptions(pydantic.BaseModel):
    """
    Fields:
      - authorization: Optional authorization object.
    Pass in an active Stytch Member session token or session JWT and the request
    will be run using that member's permissions.
    """  # noqa

    authorization: Optional[Authorization] = None

    def add_headers(self, headers: Dict[str, str]) -> Dict[str, str]:
        if self.authorization is not None:
            headers = self.authorization.add_headers(headers)
        return headers


class ConnectedAppsResponse(ResponseBase):
    """Response type for `Organizations.connected_apps`.
    Fields:
      - connected_apps: A list of connected applications that the member or organization has authorized.
    """  # noqa

    connected_apps: List[OrganizationConnectedApp]


class CreateResponse(ResponseBase):
    """Response type for `Organizations.create`.
    Fields:
      - organization: The Organization object containing details about the B2B organization, including settings for SSO, authentication methods, MFA policies, and member management.
    """  # noqa

    organization: Organization


class DeleteResponse(ResponseBase):
    """Response type for `Organizations.delete`.
    Fields:
      - organization_id: Globally unique UUID that identifies a specific Organization. When making API calls, you may also use the organization_slug or organization_external_id as a convenience.
    """  # noqa

    organization_id: str


class GetConnectedAppResponse(ResponseBase):
    """Response type for `Organizations.get_connected_app`.
    Fields:
      - connected_app_id: The ID of the Connected App.
      - name: The name of the Connected App.
      - description: A description of the Connected App.
      - client_type: The type of Connected App. Supported values are `first_party`, `first_party_public`, `third_party`, and `third_party_public`.
      - active_members: A list of active members who have authorized a connected application.
      - logo_url: The URL of the logo image for the organization, SSO connection, or connected application.
    """  # noqa

    connected_app_id: str
    name: str
    description: str
    client_type: str
    active_members: List[OrganizationConnectedAppActiveMember]
    logo_url: Optional[str] = None


class GetResponse(ResponseBase):
    """Response type for `Organizations.get`.
    Fields:
      - organization: The Organization object containing details about the B2B organization, including settings for SSO, authentication methods, MFA policies, and member management.
    """  # noqa

    organization: Organization


class MetricsResponse(ResponseBase):
    """Response type for `Organizations.metrics`.
    Fields:
      - member_count: The total number of members in the organization.
    """  # noqa

    member_count: int


class SearchResponse(ResponseBase):
    """Response type for `Organizations.search`.
    Fields:
      - organizations: A list of Organization objects or IDs.
      - results_metadata: Metadata about paginated search results, including total count and cursor for fetching the next page.
    """  # noqa

    organizations: List[Organization]
    results_metadata: ResultsMetadata


class UpdateResponse(ResponseBase):
    """Response type for `Organizations.update`.
    Fields:
      - organization: The Organization object containing details about the B2B organization, including settings for SSO, authentication methods, MFA policies, and member management.
    """  # noqa

    organization: Organization

classname: MagicLinks
methods:
  - name: authenticate
    method: POST
    args:
      - name: magic_links_token
        arg_type: str
      - name: pkce_code_verifier
        arg_type: Optional[str] = None
      - name: session_token
        arg_type: Optional[str] = None
      - name: session_jwt
        arg_type: Optional[str] = None
      - name: session_duration_minutes
        arg_type: Optional[int] = None
      - name: session_custom_claims
        arg_type: Optional[Dict[str, Any]] = None
    response_type:
      member_id: str
      method_id: str
      reset_sessions: bool
      organization_id: str
      member: Member
      session_token: str
      session_jwt: str
      session: Optional[B2BStytchSession]
sub_apis:
  - classname: Email
    additional_imports:
      - from stytch.core.b2b.models import B2BStytchSession, Member
    sub_url: magic_links/email
    filename: magic_links_email
    methods:
      - name: login_or_signup
        method: POST
        args:
          - name: organization_id
            arg_type: str
          - name: email_address
            arg_type: str
          - name: create_member_as_pending
            arg_type: Optional[bool] = None
          - name: login_redirect_url
            arg_type: Optional[str] = None
          - name: signup_redirect_url
            arg_type: Optional[str] = None
          - name: pkce_code_challenge
            arg_type: Optional[str] = None
          - name: login_template_id
            arg_type: Optional[str] = None
          - name: signup_template_id
            arg_type: Optional[str] = None
        response_type:
          member_id: str
          member_created: bool
          member: Member
      - name: invite
        method: POST
        args:
          - name: organization_id
            arg_type: str
          - name: email_address
            arg_type: str
          - name: invite_redirect_url
            arg_type: Optional[str] = None
          - name: invite_by_member_id
            arg_type: Optional[str] = None
          - name: name
            arg_type: Optional[str] = None
          - name: trusted_metadata
            arg_type: Optional[Dict[str, Any]] = None
          - name: untrusted_metadata
            arg_type: Optional[Dict[str, Any]] = None
          - name: invite_template_id
            arg_type: Optional[str] = None
        response_type:
          member_id: str
          member: Member
